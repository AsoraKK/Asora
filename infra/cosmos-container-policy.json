{
  "canonicalTrack": "env-stacks",
  "envStackFiles": [
    "infra/terraform/envs/dev/main.tf",
    "infra/terraform/envs/staging/main.tf",
    "infra/terraform/envs/prod/main.tf"
  ],
  "legacyFiles": [
    "database/cosmos_containers.tf",
    "database/cosmos_privacy_indexes.tf"
  ],
  "requiredRuntimeContainers": [
    "appeal_votes",
    "appeals",
    "audit_logs",
    "auth_sessions",
    "comments",
    "config",
    "content_flags",
    "counters",
    "custom_feeds",
    "device_tokens",
    "invites",
    "legal_holds",
    "likes",
    "messages",
    "moderation_decisions",
    "ModerationWeights",
    "notification_events",
    "notification_preferences",
    "notifications",
    "posts",
    "posts_v2",
    "privacy_audit",
    "privacy_requests",
    "profiles",
    "publicProfiles",
    "receipt_events",
    "reputation_audit",
    "userFeed",
    "users"
  ],
  "overlapAllowlist": {
    "appeal_votes": {
      "envPartitionKey": "/appealId",
      "legacyPartitionKey": "/appealId"
    },
    "appeals": {
      "envPartitionKey": "/id",
      "legacyPartitionKey": "/contentId"
    },
    "audit_logs": {
      "envPartitionKey": "/id",
      "legacyPartitionKey": "/subjectId"
    },
    "auth_sessions": {
      "envPartitionKey": "/partitionKey",
      "legacyPartitionKey": "/partitionKey"
    },
    "comments": {
      "envPartitionKey": "/postId",
      "legacyPartitionKey": "/_partitionKey"
    },
    "counters": {
      "envPartitionKey": "/userId",
      "legacyPartitionKey": "/userId"
    },
    "device_tokens": {
      "envPartitionKey": "/userId",
      "legacyPartitionKey": "/userId"
    },
    "invites": {
      "envPartitionKey": "/_partitionKey",
      "legacyPartitionKey": "/_partitionKey"
    },
    "legal_holds": {
      "envPartitionKey": "/scopeId",
      "legacyPartitionKey": "/scopeId"
    },
    "messages": {
      "envPartitionKey": "/conversationId",
      "legacyPartitionKey": "/conversationId"
    },
    "notification_events": {
      "envPartitionKey": "/userId",
      "legacyPartitionKey": "/userId"
    },
    "notification_preferences": {
      "envPartitionKey": "/userId",
      "legacyPartitionKey": "/userId"
    },
    "notifications": {
      "envPartitionKey": "/userId",
      "legacyPartitionKey": "/recipientId"
    },
    "posts": {
      "envPartitionKey": "/authorId",
      "legacyPartitionKey": "/id"
    },
    "posts_v2": {
      "envPartitionKey": "/postId",
      "legacyPartitionKey": "/postId"
    },
    "privacy_requests": {
      "envPartitionKey": "/id",
      "legacyPartitionKey": "/id"
    },
    "publicProfiles": {
      "envPartitionKey": "/userId",
      "legacyPartitionKey": "/userId"
    },
    "reputation_audit": {
      "envPartitionKey": "/_partitionKey",
      "legacyPartitionKey": "/_partitionKey"
    },
    "userFeed": {
      "envPartitionKey": "/recipientId",
      "legacyPartitionKey": "/recipientId"
    },
    "users": {
      "envPartitionKey": "/id",
      "legacyPartitionKey": "/id"
    },
    "ModerationWeights": {
      "envPartitionKey": "/className",
      "legacyPartitionKey": "/id"
    },
    "config": {
      "envPartitionKey": "/partitionKey",
      "legacyPartitionKey": "/partitionKey"
    },
    "custom_feeds": {
      "envPartitionKey": "/partitionKey",
      "legacyPartitionKey": "/partitionKey"
    },
    "moderation_decisions": {
      "envPartitionKey": "/itemId",
      "legacyPartitionKey": "/itemId"
    },
    "privacy_audit": {
      "envPartitionKey": "/id",
      "legacyPartitionKey": "/id"
    },
    "profiles": {
      "envPartitionKey": "/id",
      "legacyPartitionKey": "/userId"
    },
    "receipt_events": {
      "envPartitionKey": "/postId",
      "legacyPartitionKey": "/postId"
    }
  }
}
